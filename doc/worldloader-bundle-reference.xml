<?xml version="1.0" encoding="UTF-8"?>

<!-- For for information, see the source for these classes:
      XBundle, WorldLoader, BaseEntityLoader, BaseRoomLoader -->

<xbundle name="reference-bundle">
  <passage id="simple-passage">
    Untemplated text.
  </passage>
  <passage id="templated-passage" format="ftl">
    [#if stateobj.variable == 2]
    Hello Jacque!@p
    [/#if]
    A passage templated using FreeMarker Template Language (FTL).
  </passage>
  <passage id="scripted-passage" script="bsh">
    out("BeanShell code. Use embedded escape sequences rather than escape characters.@n");
    // For example @n rather than \n.
  </passage>
  <passage id="format-string-passage" format="printf">
    The %s is a very interesting item.
  </passage>

  <entity id="basic-entity-variant-1">
    <name>Old Tractor</name>
    <indefiniteArticle>an</indefiniteArticle>
    <description format="ftl">
      An old tractor with ${stateobj.numTires} tires.
    </description>
    <attributes>
      <attr>moveable</attr>
      <attr>lightsource</attr>
    </attributes>
  </entity>

  <entity id="basic-entity-variant-2" name="New Tractor" indefiniteArticle="a"
          attributes="moveable, lightsource">
    <description passageId="equipment-description" />
    <script>
      <![CDATA[
        void enterScope(Entity e) {
            gm.println(e.getName() + " rumbles at your approach.");
        }
      ]]>
    </script>
  </entity>

  <passage id="equipment-description" format="ftl">
    The ${entity.name} is a nice piece of equipment.
  </passage>

  <entity id="door-entity" type="door" name="Iron Door" closedExitLabel="Iron Door" key="iron-key">
    <description>
      A doughty iron door.
    </description>
    <rooms>
      <!-- The door connects the N exit of cave-entrance with the SW exit of grassy-field. -->
      <room1 id="cave-entrance" pos="N" />
      <room2 id="grassy-field" pos="SW" />
    </rooms>
  </entity>

  <entity id="iron-chest" type="container" inPrep="in" outPrep="from"
          attributes="closed, locked">
    <description>A doughty iron chest.</description>
    <key>brass-key</key>
  </entity>
</xbundle>
